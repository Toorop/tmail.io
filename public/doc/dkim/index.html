<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>DKIM &middot; Journal de développement d&#39;un serveur SMTP</title>

  
  <link rel="stylesheet" href="http://tmail.io//css/poole.css">
  <link rel="stylesheet" href="http://tmail.io//css/hyde.css">
  <link rel="stylesheet" href="http://tmail.io//css/hyde-x.css">
  <link rel="stylesheet" href="http://tmail.io//css/tmail.css">
   
    <link rel="stylesheet" href="http://tmail.io//libs/plyr/plyr.css">
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700,900,300italic,400italic,700italic,900italic">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link href="/favicon.png" rel="icon">

  
  <link href="" rel="alternate" type="application/rss+xml" title="tmail &middot; Stéphane Depierrepont" />

  <meta name="description" content="tmail et DKIM ">
  <meta name="keywords" content="dkim">
  <link rel="author" href="http://plus.google.com/&#43;St%C3%A9phaneDepierrepont">
</head>
<body>
 <ul class="navigation">
    <li class="nav-item"><a href="/">Home</a> </li>
    
    <li class="nav-item"><a href="/documentation/"> Documentation </a>
    </li>
    
    <li class="nav-item"><a href="/changelog/"> Changelog </a>
    </li>
    
    <li class="nav-item"><a href="/wishlist/"> Wishlist </a>
    </li>
    
    <li class="nav-item"><a href="/faq/"> Faq </a>
    </li>
    
    <li class="nav-item"><a href="/recherche/"> Rechercher </a>
    </li>
    
    <li class="nav-item"><a href="/podcast/">Podcast</a>
    </li>
    <li class="nav-item"><a href="/index.xml" target="_blank"> RSS </a>
    </li>
    <li class="nav-item"><a href="mailto:toorop@toorop.fr"> Contact </a>
    </li>
</ul>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger"></label>

<div class="site-wrap">
    <div class="topbar">
  <div class="color-overlay"></div>
  <div class="container">
    <div class="title">
      <h1>tmail</h1>
      <h4>Journal de développement d&#39;un serveur SMTP</h4>
    </div>
  </div>
</div>
<div id="social">
<a href="https://twitter.com/share" class="twitter-share-button" data-via="poroot">Tweet</a>
<script>
! function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0],
        p = /^http:/.test(d.location) ? 'http' : 'https';
    if (!d.getElementById(id)) {
        js = d.createElement(s);
        js.id = id;
        js.src = p + '://platform.twitter.com/widgets.js';
        fjs.parentNode.insertBefore(js, fjs);
    }
}(document, 'script', 'twitter-wjs');
</script>


</div>

    <div class="content container">
        <div class="post">
            <h1 class="post-title">DKIM</h1>
            <span class="post-date">May 15, 2015 &middot; Temps de lecture: 2 min  &middot; <a href="http://tmail.io/doc/dkim/#disqus_thread">Comments</a>
      
      <br/>
      
      <a class="label" href="http://tmail.io//categories/doc">doc</a>
      </span> 

<p>Vous trouverez dans cette section les informations vous permettant d&rsquo;activer et de configurer DKIM.</p>

<p>Tout d&rsquo;abord un petit rappel sur ce qu&rsquo;est DKIM.</p>

<p>Pour faire court DKIM permet :</p>

<ul>
<li>De faire le lien entre un mail et une autorité, celle qui l&rsquo;a signé.</li>
<li>De s&rsquo;assurer de l&rsquo;intégrité d&rsquo;un mail, autrement dit qu&rsquo;il n&rsquo;a pas été modifié entre le moment où il à été signé et le moment où la signature à été vérifiée.</li>
</ul>

<p>Attention aux légendes urbaines:</p>

<ul>
<li>Ce n&rsquo;est pas parce qu&rsquo;un mail ayant comme expéditeur contact@mabanque.com à une signature DKIM valide que ce mail  vient de contact@mabanque.com et plus globalement qu&rsquo;il n&rsquo;est pas un spam ou un phishing.</li>
<li>Ce n&rsquo;est pas parce qu’un mail à une signature DKIM non valide que c&rsquo;est un spam ou un phishing.</li>
</ul>

<p><strong>Comme toutes les sections de cette documentation, cette page reflète ce qui est implémenté dans tmail au moment de sa rédaction. Autrement dit pensez à visiter cette page régulièrement car elle sera fréquemment mise à jour</strong></p>

<h2 id="support-de-dkim:c99c24afa10a30bd9bfec7a5439680ab">Support de DKIM</h2>

<p>Le support de DKIM à été introduit dans la version 0.0.8.
Pour le moment il est sommaire, le but est avant tout de tester l&rsquo;implémentation. Autrement dit, actuellement si vous activez DKIM:</p>

<ul>
<li>Aucune vérification n&rsquo;est faite sur les mails entrant.</li>
<li>Tous les mails sortant sont signés en utilisant la même clé privée, le domaine &ldquo;tmail.io&rdquo; et le &lsquo;selector&rsquo; &ldquo;test&rdquo;.</li>
<li>La clé publique, ou plus exactement sa représentation, contient le flag indiquant que c&rsquo;est une signature de test. Autrement dit, l&rsquo;entité qui va vérifier la signature, ne doit pas tenir compte du résultat de cette vérification si elle échoue.</li>
</ul>

<p>Dans la pratique, vous ne prenez aucun risque à activer DKIM et comme ça va être très utile par valider l&rsquo;implémentation je ne peux que vous encourager à la faire.</p>

<h2 id="activer-dkim:c99c24afa10a30bd9bfec7a5439680ab">Activer DKIM</h2>

<p>D&rsquo;abord assurez vous d&rsquo;avoir une version de tmail supérieure ou égale à la 0.0.8.</p>

<p>Ensuite il vous suffit juste de modifier:</p>

<pre><code># DKIM sign outgoing (remote) emails
export TMAIL_DELIVERD_DKIM_SIGN=false
</code></pre>

<p>pour:</p>

<pre><code># DKIM sign outgoing (remote) emails
export TMAIL_DELIVERD_DKIM_SIGN=true
</code></pre>

<p>Et de relancer tmail.</p>

        </div>
        <div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = '';
    dsq.src = '//tmail.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    </div>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-59890382-1', 'auto');
  ga('send', 'pageview');
</script>
<script src="http://tmail.io//js/tmail.js"></script>
</body>
</html>

